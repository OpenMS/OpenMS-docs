function _hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function _hasData(t,e){return t.dataset?t.dataset.hasOwnProperty(e):t.getAttribute("data-"+e)}function resizeIframe(t){t.style.height=t.contentWindow.document.body.scrollHeight+"px"}function fetchJson(t,e,n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status?e(JSON.parse(o.responseText)):n())},o.open("GET",t);i=i||{};Object.keys(i).forEach(function(t){o.setRequestHeader(t,i[t])}),o.send()}function GMC(t,e){"use strict";var n=this;this.repoFullName=t.getAttribute("data-gmc-repo"),this.username=t.getAttribute("data-gmc-user"),this.json=e,this.root_el=null,this.fetchJson=function(t,e,n){var i={};"string"==typeof GH_API_KEY&&(i.Authorization="token "+GH_API_KEY),i.Accept="application/vnd.github.mercy-preview+json",fetchJson(t,e,n,i)},this.fillWithRepoName=function(){n.fetchJson("https://api.github.com/repos/"+n.repoFullName,function(t){n.json=t,n.fillWithJson()},function(){n.markError()})},this.fillWithUserName=function(){n.fetchJson("https://api.github.com/users/"+n.username,function(t){n.json=t,n.fillWithJson()},function(){n.markError()})},this.fillWithJson=function(){n.root_el&&n.json&&(n.root_el.querySelectorAll("[data-gmc-id]").forEach(function(t){!function(t,e){var i=t.getAttribute("data-gmc-id");if(i){var o=(i=i.replace(" ","")).split(",");o.forEach(function(i){!function(t,e,i){var o=i.split("__");if(o.length<2)return;var r=o[1],s=o[0],a=o.length>=2&&"js"==o[2]&&t.getAttribute("data-gmc-js");!function(t,e,i,o,r){var s=i.split("-"),a=e,c=null;if(s.some(function(t){return!a.hasOwnProperty(t)||("object"!=typeof a[t]?(c=a[t],!0):void(a=a[t]))}),r){var l=t.getAttribute("data-gmc-js");"function"==typeof window[l]&&(c=window[l].call(null,c,t,n))}if(null===c)return;var u="string"==typeof n.root_el.getAttribute("data-gmc-ap");if("in"==o){var f=u?t.textContent:"";t.textContent=f+c}else{var h="";u&&t.hasAttribute(o)&&(h=t.getAttribute(o)),t.setAttribute(o,h+c)}}(t,e,r,s,a)}(t,e,i)})}}(t,n.json)}),this.markAsLoaded(),"object"==typeof this.iframe&&resizeIframe(this.iframe))},this.markAsLoaded=function(){n.root_el.className+=" gmc-loaded"},this.markError=function(){n.root_el.className+=" gmc-error"},n.root_el=t,this.json?this.fillWithJson():this.repoFullName?this.fillWithRepoName():this.username&&this.fillWithUserName()}GMC.loadAllCards=function(t){document.querySelectorAll("[data-gmc-repo], [data-gmc-user]").forEach(function(e){new GMC(e,t)})};